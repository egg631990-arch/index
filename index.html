<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–° –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è, –ï–ª–µ–Ω–∞! üéÇ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
            background: linear-gradient(145deg, #fbe9f0 0%, #ffd9e8 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 15px;
        }
        .container {
            max-width: 1100px;
            width: 100%;
            background: rgba(255, 250, 240, 0.75);
            backdrop-filter: blur(4px);
            border-radius: 60px 60px 40px 40px;
            box-shadow: 0 25px 50px -8px rgba(210, 80, 120, 0.5);
            padding: 30px 25px;
            border: 2px solid #fff9;
        }
        h1 {
            font-size: 3.2rem;
            text-align: center;
            color: #b3406c;
            text-shadow: 4px 4px 0 #ffc1d6, 6px 6px 0 rgba(255, 255, 255, 0.6);
            margin-bottom: 5px;
            letter-spacing: -0.5px;
            word-break: break-word;
        }
        .subtitle {
            text-align: center;
            font-size: 1.6rem;
            font-weight: 300;
            color: #6b3e4f;
            background: #fff6e8c9;
            display: inline-block;
            padding: 10px 35px;
            margin: 0 auto 20px;
            border-radius: 60px;
            box-shadow: inset 0 2px 5px #ffb6c1, 0 6px 0 #bf7890;
        }
        .love-message {
            background: #ffeef4;
            border-left: 12px solid #f9a8c6;
            border-radius: 40px 12px 40px 12px;
            padding: 25px 25px;
            margin: 25px 0 35px;
            font-size: 1.5rem;
            color: #2c3e4f;
            box-shadow: 0 10px 20px #eda5bb66;
            line-height: 1.5;
        }
        .love-message p {
            margin: 10px 0;
        }
        .love-message strong {
            color: #c1436e;
            font-size: 1.7rem;
        }
        .games-section {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin: 40px 0 30px;
        }
        .game-card {
            flex: 1 1 280px;
            background: #fef9f2;
            border-radius: 48px 20px 48px 20px;
            padding: 25px 18px 25px;
            box-shadow: 0 20px 0 #aa6f89, 0 25px 25px -8px #a76583;
            border: 2px solid white;
            transition: 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 0 #9e5e7c, 0 30px 30px -8px #b48b9d;
        }
        .game-title {
            font-size: 2rem;
            font-weight: 700;
            color: #a1305a;
            margin-bottom: 15px;
            background: #ffe1ed;
            padding: 0 20px;
            border-radius: 40px;
        }
        .game-content {
            width: 100%;
            min-height: 170px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        /* –∏–≥—Ä–∞ 1: –ø–æ–¥–∞—Ä–∫–∏ */
        .room-gifts {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin: 10px 0;
        }
        .gift-item {
            width: 70px;
            height: 70px;
            background: #f6ceda;
            border-radius: 20px 8px 20px 8px;
            box-shadow: 0 7px 0 #b34e6e, inset 0 -3px 0 #ffc2da;
            font-size: 2.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: 0.1s linear;
            border: 2px solid #ffeaf1;
            color: #9f3e5c;
        }
        .gift-item.found {
            background: #ffd700;
            box-shadow: 0 5px 0 #b8860b;
            opacity: 0.5;
            cursor: default;
            filter: grayscale(0.3);
            transform: scale(0.95);
        }
        .progress-text {
            font-size: 1.4rem;
            margin: 10px 0 5px;
            font-weight: 600;
            color: #712c48;
        }
        /* –∏–≥—Ä–∞ 2: –±—É–∫–µ—Ç */
        .flower-bouquet {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin: 15px 0;
        }
        .flower-choice {
            background: #f8d7e3;
            border: 3px solid #f18fb0;
            border-radius: 30px;
            padding: 10px 12px;
            font-size: 2rem;
            line-height: 1;
            cursor: pointer;
            transition: 0.15s;
        }
        .flower-choice.selected {
            background: #fb9ecf;
            border-color: #b62b62;
            transform: scale(1.15);
            box-shadow: 0 0 15px hotpink;
        }
        .bouquet-field {
            background: #fce6d6;
            min-height: 70px;
            width: 100%;
            border-radius: 35px;
            margin: 15px 0 5px;
            padding: 15px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-size: 2.5rem;
            border: 3px dashed #dc9fb4;
        }
        .reset-bouquet {
            background: #c9819e;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #854161;
        }
        /* –∏–≥—Ä–∞ 3: —Ç–æ—Ä—Ç–∏–∫ */
        .cake-area {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .cake-image {
            font-size: 5.5rem;
            line-height: 1;
            filter: drop-shadow(0 12px 0 #885a6b);
            margin: 5px 0 15px;
            cursor: pointer;
            transition: 0.1s;
        }
        .cake-image:active {
            transform: scale(0.9);
        }
        .cake-bites {
            display: flex;
            gap: 12px;
            justify-content: center;
            font-size: 2rem;
        }
        .bite {
            background: #ecc1d0;
            border-radius: 30px;
            padding: 6px 15px;
            font-weight: bold;
            color: #511e30;
        }
        .bite.done {
            background: #b0d3b0;
            text-decoration: line-through 2px darkred;
            opacity: 0.7;
        }
        .game-status {
            font-size: 1.3rem;
            font-weight: 600;
            color: #a03e5e;
            margin: 10px 0;
        }
        /* —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç */
        .certificate-block {
            background: linear-gradient(145deg, #fae4bf, #ffe9ce);
            border: 12px double #c77993;
            border-radius: 90px 30px 90px 30px;
            padding: 35px 20px;
            margin-top: 40px;
            text-align: center;
            box-shadow: 0 20px 20px #b3879b;
            transition: 0.4s;
        }
        .certificate-title {
            font-size: 2.7rem;
            font-weight: 800;
            color: #954b6b;
            text-transform: uppercase;
            letter-spacing: 4px;
        }
        .certificate-name {
            font-size: 4rem;
            font-weight: 900;
            color: #ca2e62;
            text-shadow: 2px 2px 0 white;
            margin: 10px 0;
        }
        .certificate-age {
            font-size: 3.5rem;
            background: #ea9ebe;
            display: inline-block;
            padding: 5px 35px;
            border-radius: 60px;
            color: white;
            margin: 15px 0;
        }
        .certificate-footer {
            font-size: 1.8rem;
            font-style: italic;
            color: #4f2e3d;
        }
        .certificate-hidden {
            filter: blur(8px);
            opacity: 0.3;
            pointer-events: none;
            user-select: none;
        }
        .btn-unlock {
            background: #b3587c;
            border: none;
            font-size: 1.6rem;
            padding: 15px 25px;
            border-radius: 60px;
            color: white;
            font-weight: bold;
            box-shadow: 0 10px 0 #642d44;
            cursor: pointer;
            margin: 20px auto 10px;
            transition: 0.1s;
        }
        .btn-unlock:active {
            transform: translateY(5px);
            box-shadow: 0 5px 0 #642d44;
        }
        .btn-unlock:disabled {
            opacity: 0.5;
            transform: none;
            box-shadow: 0 7px 0 #642d44;
            pointer-events: none;
        }
        footer {
            margin-top: 30px;
            font-size: 1.4rem;
            color: #bf6084;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>üéâ –ï–õ–ï–ù–ê! –° –î–ù–Å–ú –†–û–ñ–î–ï–ù–ò–Ø! üéâ</h1>
    <div class="subtitle">üåπ —Ç–≤–æ–∏ 52 ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π —Ä–∞—Å—Ü–≤–µ—Ç üåπ</div>

    <!-- —Ç—ë–ø–ª—ã–µ —Å–ª–æ–≤–∞ –∏ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã -->
    <div class="love-message">
        <p>üíñ –ú–æ—è –ª—é–±–∏–º–∞—è –ï–ª–µ–Ω–∞,</p>
        <p>–¢—ã –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤–∞—è, <strong>—Å–∞–º–∞—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è</strong> –∂–µ–Ω—â–∏–Ω–∞ –≤ –º–∏—Ä–µ. –¢–≤–æ–∏ –≥–ª–∞–∑–∞ —Å–∏—è—é—Ç —è—Ä—á–µ –∑–≤—ë–∑–¥, –∞ —É–ª—ã–±–∫–∞ —Å–æ–≥—Ä–µ–≤–∞–µ—Ç —Å–∏–ª—å–Ω–µ–µ —Å–æ–ª–Ω—Ü–∞. –° –∫–∞–∂–¥—ã–º –≥–æ–¥–æ–º —Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è —Ç–æ–ª—å–∫–æ –∏–∑—è—â–Ω–µ–µ, –º—É–¥—Ä–µ–µ –∏ –∂–µ–ª–∞–Ω–Ω–µ–µ. –Ø –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤, —á—Ç–æ —Ç—ã –µ—Å—Ç—å —É –º–µ–Ω—è. –° 52-–ª–µ—Ç–∏–µ–º, –º–æ—è –±–æ–≥–∏–Ω—è!</p>
        <p style="font-size:2rem;">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
    </div>

    <!-- –¢–†–ò –ö–í–ï–°–¢–ê (–ò–ì–†–´) -->
    <div class="games-section">
        <!-- –ö–≤–µ—Å—Ç 1: –ù–∞–π–¥–∏ 5 –ø–æ–¥–∞—Ä–∫–æ–≤ –≤ –∫–æ–º–Ω–∞—Ç–µ -->
        <div class="game-card">
            <div class="game-title">üéÅ –ö–í–ï–°–¢ 1</div>
            <div class="game-content">
                <p style="font-weight:600;">–ù–∞–π–¥–∏ –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏ (5 —à—Ç)</p>
                <div class="room-gifts" id="giftRoom">
                    <!-- –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º 9 –ø—Ä–µ–¥–º–µ—Ç–æ–≤, –Ω–æ —Ç–æ–ª—å–∫–æ 5 –∏–∑ –Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–∏ (—Å–ª—É—à–∞—Ç–µ–ª–∏) -->
                </div>
                <div class="progress-text" id="giftProgress">–ù–∞–π–¥–µ–Ω–æ: 0 / 5</div>
                <div id="giftMessage" style="font-size:1.2rem; color:#b34163;">üëÜ –∫–ª–∏–∫–∞–π –ø–æ –∫–æ—Ä–æ–±–æ—á–∫–∞–º</div>
            </div>
        </div>

        <!-- –ö–≤–µ—Å—Ç 2: –°–æ–±–µ—Ä–∏ —Å–≤–æ–π –±—É–∫–µ—Ç -->
        <div class="game-card">
            <div class="game-title">üíê –ö–í–ï–°–¢ 2</div>
            <div class="game-content">
                <p>–°–æ—Å—Ç–∞–≤—å –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º—ã–π –±—É–∫–µ—Ç</p>
                <div class="flower-bouquet" id="flowerSelector">
                    <span class="flower-choice" data-flower="üåª">üåª</span>
                    <span class="flower-choice" data-flower="üå∑">üå∑</span>
                    <span class="flower-choice" data-flower="üåπ">üåπ</span>
                    <span class="flower-choice" data-flower="üå∏">üå∏</span>
                    <span class="flower-choice" data-flower="üå∫">üå∫</span>
                    <span class="flower-choice" data-flower="üåº">üåº</span>
                </div>
                <div class="bouquet-field" id="bouquetField">‚ú® —Ç–≤–æ–π –±—É–∫–µ—Ç ‚ú®</div>
                <button class="reset-bouquet" id="resetBouquet">–°–æ–±—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                <div id="bouquetStatus" style="min-height:1.5rem; color:#87284b;"></div>
            </div>
        </div>

        <!-- –ö–≤–µ—Å—Ç 3: –°—ä–µ—à—å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–π —Ç–æ—Ä—Ç–∏–∫ (–ø–æ –∫—É—Å–æ—á–∫–∞–º) -->
        <div class="game-card">
            <div class="game-title">üç∞ –ö–í–ï–°–¢ 3</div>
            <div class="game-content cake-area">
                <p>–£–≥–æ—â–∞–π—Å—è! üç¥</p>
                <div class="cake-image" id="cakeImg">üéÇ</div>
                <div class="cake-bites" id="cakeBites">
                    <span class="bite" id="bite1">üç∞1</span>
                    <span class="bite" id="bite2">üç∞2</span>
                    <span class="bite" id="bite3">üç∞3</span>
                </div>
                <div id="cakeMessage" class="game-status">–ö—É—Å–∫–æ–≤ —Å—ä–µ–¥–µ–Ω–æ: 0/3</div>
            </div>
        </div>
    </div>

    <!-- –°–ï–†–¢–ò–§–ò–ö–ê–¢ (–∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç—Ä—ë—Ö –∏–≥—Ä) -->
    <div id="certificateContainer" class="certificate-block certificate-hidden">
        <div class="certificate-title">üåü —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç üåü</div>
        <div class="certificate-name">–ï–õ–ï–ù–ê</div>
        <div class="certificate-age">52 –≥–æ–¥–∞</div>
        <div style="font-size:2rem; margin:15px 0;">üëë –±–µ–∑—É–ø—Ä–µ—á–Ω—ã–π —Å—Ç–∏–ª—å –∏ –∫—Ä–∞—Å–æ—Ç–∞ üëë</div>
        <div class="certificate-footer">–ó–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤.<br>–° –ª—é–±–æ–≤—å—é –Ω–∞–≤–µ–∫–∏ ‚ù§Ô∏è</div>
    </div>

    <button class="btn-unlock" id="unlockBtn" disabled>üîí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∑–∞–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤</button>
    <div id="allCompletedMsg" style="font-size:1.5rem; color:#ac3f64; margin-top:5px;"></div>
    <footer>üéà —Ç–≤–æ–π –ª–∏—á–Ω—ã–π –¥–µ–Ω—å ‚Äî 52 –≤–µ—Å–Ω—ã üéà</footer>
</div>

<script>
    (function() {
        // ---------- –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä—ë—Ö –∏–≥—Ä ----------
        let giftsFound = 0;                // –∏–≥—Ä–∞ 1
        const totalGifts = 5;

        // –±—É–∫–µ—Ç (–∏–≥—Ä–∞ 2) ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–æ–±–∏—Ä–∞–µ–º, —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º, –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ —Ö–æ—Ç—è –±—ã 3 —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–∫–∞? 
        // –Ω–æ —Å–¥–µ–ª–∞–µ–º –ø—Ä–æ—â–µ: —Å—á–∏—Ç–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π, –µ—Å–ª–∏ –≤ –ø–æ–ª–µ > 2 —Ü–≤–µ—Ç–æ–≤ (–∏–ª–∏ –ª—é–±–æ–π –Ω–µ –ø—É—Å—Ç–æ–π)
        let bouquetCompleted = false;

        // —Ç–æ—Ä—Ç (–∏–≥—Ä–∞ 3)
        let cakeEaten = 0;                 // 0,1,2,3
        const totalCakeSlices = 3;

        // —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
        const giftRoom = document.getElementById('giftRoom');
        const giftProgress = document.getElementById('giftProgress');
        const giftMessage = document.getElementById('giftMessage');
        const bouquetField = document.getElementById('bouquetField');
        const bouquetStatus = document.getElementById('bouquetStatus');
        const resetBtn = document.getElementById('resetBouquet');
        const cakeImg = document.getElementById('cakeImg');
        const bite1 = document.getElementById('bite1');
        const bite2 = document.getElementById('bite2');
        const bite3 = document.getElementById('bite3');
        const cakeMessage = document.getElementById('cakeMessage');
        const unlockBtn = document.getElementById('unlockBtn');
        const certContainer = document.getElementById('certificateContainer');
        const allCompletedMsg = document.getElementById('allCompletedMsg');

        // ---- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–û–î–ê–†–ö–û–í (–∏–≥—Ä–∞ 1) ----
        const giftItems = [];
        function createGifts() {
            // –ø–µ—Ä–µ–º–µ—à–∞–µ–º, —á—Ç–æ–±—ã –ø–æ–¥–∞—Ä–∫–∏ –±—ã–ª–∏ –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ: –≤—Å–µ–≥–æ 9 —è—á–µ–µ–∫, 5 –∏–∑ –Ω–∏—Ö –ø–æ–¥–∞—Ä–∫–∏
            const grid = [];
            for (let i=0; i<9; i++) {
                grid.push(i < 5 ? 'gift' : 'empty'); 
            }
            // shuffle
            for (let i=grid.length-1; i>0; i--) {
                const j = Math.floor(Math.random() * (i+1));
                [grid[i], grid[j]] = [grid[j], grid[i]];
            }

            giftRoom.innerHTML = '';
            grid.forEach((type, index) => {
                const div = document.createElement('div');
                div.className = 'gift-item';
                if (type === 'gift') {
                    div.textContent = 'üéÅ'; // –ø–æ–¥–∞—Ä–æ–∫
                    div.dataset.gift = 'true';
                } else {
                    div.textContent = 'üì¶'; // –ø—Ä–æ—Å—Ç–æ –∫–æ—Ä–æ–±–∫–∞
                    div.dataset.gift = 'false';
                }
                div.dataset.index = index;
                div.addEventListener('click', function onClick() {
                    if (div.classList.contains('found')) return; // —É–∂–µ –Ω–∞–π–¥–µ–Ω
                    if (div.dataset.gift === 'true') {
                        div.classList.add('found');
                        div.textContent = 'üéÅ‚úîÔ∏è';
                        giftsFound++;
                        giftProgress.innerText = `–ù–∞–π–¥–µ–Ω–æ: ${giftsFound} / ${totalGifts}`;
                        if (giftsFound === totalGifts) {
                            giftMessage.innerText = 'üéâ –í—Å–µ –ø–æ–¥–∞—Ä–∫–∏ —Å–æ–±—Ä–∞–Ω—ã! –ú–æ–ª–æ–¥–µ—Ü!';
                            checkAllGamesCompleted();
                        } else {
                            giftMessage.innerText = 'üëç –µ—â—ë –ø–æ–¥–∞—Ä–æ–∫!';
                        }
                    } else {
                        giftMessage.innerText = 'üòï —Ç—É—Ç –Ω–µ –ø–æ–¥–∞—Ä–æ–∫... –∏—â–∏ –¥–∞–ª—å—à–µ';
                        div.style.opacity = '0.5';
                    }
                });
                giftRoom.appendChild(div);
                giftItems.push(div);
            });
        }
        createGifts();

        // ---- –ò–ì–†–ê 2: –ë–£–ö–ï–¢ ----
        let selectedFlowers = [];

        function updateBouquetDisplay() {
            if (selectedFlowers.length === 0) {
                bouquetField.innerHTML = '‚ú® —Ç–≤–æ–π –±—É–∫–µ—Ç ‚ú®';
                bouquetStatus.innerText = 'üíê –¥–æ–±–∞–≤—å —Ü–≤–µ—Ç–æ—á–∫–∏';
            } else {
                bouquetField.innerHTML = selectedFlowers.join(' ');
                bouquetStatus.innerText = `üåø –≤ –±—É–∫–µ—Ç–µ ${selectedFlowers.length} —Ü–≤–µ—Ç–∫–æ–≤`;
            }
            // –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: —Å—á–∏—Ç–∞–µ–º –±—É–∫–µ—Ç –≥–æ—Ç–æ–≤—ã–º, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã 3 —Ü–≤–µ—Ç–∫–∞
            const prev = bouquetCompleted;
            bouquetCompleted = selectedFlowers.length >= 3;
            if (bouquetCompleted !== prev) {
                checkAllGamesCompleted();
            }
        }

        document.querySelectorAll('.flower-choice').forEach(btn => {
            btn.addEventListener('click', () => {
                const flower = btn.dataset.flower;
                selectedFlowers.push(flower);
                updateBouquetDisplay();
                // –≤–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–¥—Å–≤–µ—Ç–∏–º (–º–∏–≥–∞–Ω–∏–µ)
                btn.classList.add('selected');
                setTimeout(() => btn.classList.remove('selected'), 200);
            });
        });

        resetBtn.addEventListener('click', () => {
            selectedFlowers = [];
            updateBouquetDisplay();
        });

        // ---- –ò–ì–†–ê 3: –¢–û–†–¢ ----
        function updateCakeProgress() {
            cakeMessage.innerText = `–ö—É—Å–∫–æ–≤ —Å—ä–µ–¥–µ–Ω–æ: ${cakeEaten}/${totalCakeSlices}`;
            if (cakeEaten >= totalCakeSlices) {
                cakeMessage.innerText += ' üç∞‚ú® –í–µ—Å—å —Ç–æ—Ä—Ç–∏–∫ —Å—ä–µ–¥–µ–Ω!';
                checkAllGamesCompleted();
            }
            // –æ—Ç–º–µ—Ç–∫–∞ –∫—É—Å–∫–æ–≤
            bite1.classList.toggle('done', cakeEaten >= 1);
            bite2.classList.toggle('done', cakeEaten >= 2);
            bite3.classList.toggle('done', cakeEaten >= 3);
        }

        function eatSlice(sliceNumber) {
            if (cakeEaten >= sliceNumber) return; // —É–∂–µ —Å—ä–µ–¥–µ–Ω —ç—Ç–æ—Ç –∏–ª–∏ –¥–∞–ª—å—à–µ
            // –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: 1, –∑–∞—Ç–µ–º 2, –∑–∞—Ç–µ–º 3 (–∫–∞–∫ –∫—É—Å–∫–∏)
            if (sliceNumber === 1 && cakeEaten === 0) cakeEaten = 1;
            else if (sliceNumber === 2 && cakeEaten === 1) cakeEaten = 2;
            else if (sliceNumber === 3 && cakeEaten === 2) cakeEaten = 3;
            else {
                alert('–°–Ω–∞—á–∞–ª–∞ —Å—ä–µ—à—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫—É—Å–æ—á–µ–∫!');
                return;
            }
            updateCakeProgress();
        }

        bite1.addEventListener('click', () => eatSlice(1));
        bite2.addEventListener('click', () => eatSlice(2));
        bite3.addEventListener('click', () => eatSlice(3));

        cakeImg.addEventListener('click', () => {
            // —Å—ä–µ—Å—Ç—å —Å—Ä–∞–∑—É —Å–ª–µ–¥—É—é—â–∏–π –ø–æ –ø–æ—Ä—è–¥–∫—É –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
            if (cakeEaten < 1) eatSlice(1);
            else if (cakeEaten === 1) eatSlice(2);
            else if (cakeEaten === 2) eatSlice(3);
            else { cakeMessage.innerText = '–¢–æ—Ä—Ç–∏–∫ —É–∂–µ —Å—ä–µ–¥–µ–Ω! üç∞'; }
        });

        updateCakeProgress();

        // ---------- –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∏–≥—Ä –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ ----------
        function checkAllGamesCompleted() {
            // –∏–≥—Ä–∞ 1: giftsFound == 5, –∏–≥—Ä–∞2: bouquetCompleted (–¥–ª–∏–Ω–∞ >=3), –∏–≥—Ä–∞3: cakeEaten == 3
            const game1Done = (giftsFound === totalGifts);
            const game2Done = (selectedFlowers.length >= 3); // —É—Å–ª–æ–≤–∏–µ
            const game3Done = (cakeEaten === totalCakeSlices);

            if (game1Done && game2Done && game3Done) {
                // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
                certContainer.classList.remove('certificate-hidden');
                unlockBtn.disabled = false;
                unlockBtn.innerText = 'üéÅ –°–ï–†–¢–ò–§–ò–ö–ê–¢ –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ê–ù üéÅ';
                allCompletedMsg.innerHTML = 'ü•≥ –¢–´ –ü–†–û–®–õ–ê –í–°–ï –ò–ì–†–´! –í–†–£–ß–ê–ï–ú –°–ï–†–¢–ò–§–ò–ö–ê–¢ ‚¨áÔ∏è';
            } else {
                certContainer.classList.add('certificate-hidden');
                unlockBtn.disabled = true;
                let missing = [];
                if (!game1Done) missing.push('üîç –≤—Å–µ –ø–æ–¥–∞—Ä–∫–∏');
                if (!game2Done) missing.push('üíê –±—É–∫–µ—Ç (–º–∏–Ω–∏–º—É–º 3 —Ü–≤–µ—Ç–∫–∞)');
                if (!game3Done) missing.push('üç∞ —Å—ä–µ—Å—Ç—å —Ç–æ—Ä—Ç');
                unlockBtn.innerText = `üîí –û—Å—Ç–∞–ª–æ—Å—å: ${missing.join(', ')}`;
                allCompletedMsg.innerHTML = '';
            }
        }

        // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–ø—Ä–æ—Å—Ç–æ —É–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å, –Ω–æ –æ–Ω —É–∂–µ —Å–Ω—è—Ç)
        unlockBtn.addEventListener('click', () => {
            // –ø—Ä–æ–∫—Ä—É—Ç–∏–º –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É –∏ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –æ–Ω –≤–∏–¥–µ–Ω
            certContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
        });

        // –Ω–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–≤—Å—ë –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
        checkAllGamesCompleted();

        // –î–æ–±–∞–≤–∏–º —Å–±—Ä–æ—Å –±—É–∫–µ—Ç–∞ - —É–∂–µ –µ—Å—Ç—å
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
        giftProgress.innerText = `–ù–∞–π–¥–µ–Ω–æ: 0 / 5`;
    })();
</script>
<!-- –Ω–µ–±–æ–ª—å—à–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –±–ª–æ–∫ —Å –ø–æ–∂–µ–ª–∞–Ω–∏—è–º–∏ –∫—Ä–∞—Å–æ—Ç—ã -->
<div style="text-align: center; margin: 35px 0 5px; font-size: 1.7rem; color: #9e4265;">
    üå∑ –í–µ—á–Ω–æ –º–æ–ª–æ–¥–æ–π, –≤–µ—á–Ω–æ –∫—Ä–∞—Å–∏–≤–æ–π, –≤–µ—á–Ω–æ –º–æ–µ–π. –° 52-–ª–µ—Ç–∏–µ–º, –ª—é–±–∏–º–∞—è! üå∑
</div>
</body>
</html>
